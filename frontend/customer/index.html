<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Customer Feedback</title>

    <link rel="stylesheet" href="css/form.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<!--    <script src="js/custom.modernizr.js"></script> -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.2/underscore-min.js" type="text/javascript"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script>
    <script src="js/customer.backbone.js"></script>
</head>
<body>

    <script type="text/template" id="feedback-form-template">
        <div class="row header">
            <div class= "small-4 small-offset-8 columns">
                <img src="<%= form.get('merchant').logo %>"> <!-- height fixed, width variable -->
            </div>
        </div>
        <div class="row">
            <div class="small-12 medium-10 medium-centered large-8 columns">
               <div class="rateit" id="rateit5" data-rateit-min="2">
            </div>
            <div>
                <span id="value5"></span>
                <span id="hover5"></span>
            </div>
            </div>
        </div>
        <div class="row hide">
            <div class="small-12 medium-10 medium-centered large-8 columns">
                <div id="sample-create"></div>
                <div id="show-serialization-field"> </div>
            </div>
        </div>
        <div class="row hide">
            <div class="small-12 medium-10 medium-centered large-8 columns">
                <div data-alert class="alert-box error" style="display:none;">
                Please write something
                </div>
                <form id="comment-form" name="comment-form">
                    <fieldset class="commentsection">
                        <h3><%= form.get("question") %></h3>
                        <div class="form-element">
                            <textarea id="comment" name="comment" required placeholder="Write your feedback here" autofocus="autofocus"></textarea>
                        </div>
                        <div class="form-element text-right">
                            <a class="button green" id="next">Next Section </a>
                        </div>
                    </fieldset>
                    <fieldset class="contactdetails hide">
                        <h3>Contact Details</h3>
                        <p>Let us show you our appreciation for your feedback. Do leave your contact details.</p>
                        <div class="form-element">
                            <label for="name">Name: </label>
                            <input type="text" id="name" name="name" placeholder="Your Name" />
                            <label for="email">Email: </label>
                            <input type="email" id="email" name="email" placeholder="you@email.com" />
                            <label for="phone">Phone: </label>
                            <input type="tel" id="phone" name="phone" placeholder="xxx-xxx-xxxx" />
                            <input type="hidden" name="id" value="<%= instance_id %>">
                        </div>
                        <div class="form-element text-right">
                            <button type="submit" class="success">Submit Feedback</button>
                        </div>
                    </fieldset>
                </form>       
            </div>
        </div>
        <script>
        $("#sample-create").noUiSlider({
                range: [0, 10],
                start: 7,
                step: 1,
                handles: 1,
                resolution: 1,
                serialization: {
                    to: [ $("#show-serialization-field"),"html" ]
                }
            });
        </script>
    </script>

    <script type="text/template" id="feedback-form-not-exists-template">
        <div class="row">
            <h1>The Feedback Form Does Not Exist.</h1>
        </div>
    </script>

    <script type="text/template" id="feedback-form-success-template">
        <div class="row">
            <div class="small-12 medium-10 medium-centered large-8 columns">
                <div data-alert class="alert-box success">
                Feedback submitted successfully
                </div>
                <h3 class="text-center">Thank you</h3>
            </div>
        </div>
    </script>
    <script src="js/jquery.nouislider.js"></script>
    <script src="js/jquery.rateit.js"></script> 
</body>
</html>
